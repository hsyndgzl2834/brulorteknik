<script>
document.addEventListener('DOMContentLoaded', function() {
  console.log('Navbar script başlatıldı');
  
  // Enhanced scroll effect
  window.addEventListener('scroll', function() {
    const navbar = document.querySelector('.navbar-custom');
    if (navbar) {
      if (window.scrollY > 20) {
        navbar.classList.add('scrolled');
      } else {
        navbar.classList.remove('scrolled');
      }
    }
  });

  // Auto-detect active page
  const currentPage = window.location.pathname.split('/').pop() || 'index.html';
  const navLinks = document.querySelectorAll('.navbar-nav .nav-link');
  
  navLinks.forEach(link => {
    const href = link.getAttribute('href');
    if (href === currentPage || (currentPage === '' && href === 'index.html')) {
      link.classList.add('active');
    }
  });

  // Manual hamburger menu toggle
  const navbarToggler = document.getElementById('navbarToggler');
  const navbarCollapse = document.getElementById('navbarNav');
  
  console.log('Navbar elements:', { navbarToggler, navbarCollapse });
  
  if (navbarToggler && navbarCollapse) {
    navbarToggler.addEventListener('click', function(e) {
      e.preventDefault();
      console.log('Hamburger menü toggle');
      
      const isExpanded = navbarToggler.getAttribute('aria-expanded') === 'true';
      navbarToggler.setAttribute('aria-expanded', !isExpanded);
      
      if (navbarCollapse.classList.contains('show')) {
        navbarCollapse.classList.remove('show');
      } else {
        navbarCollapse.classList.add('show');
      }
    });
  }

  // Close mobile menu when clicking on nav link
  navLinks.forEach(link => {
    link.addEventListener('click', function() {
      if (window.innerWidth < 992 && navbarCollapse) {
        navbarCollapse.classList.remove('show');
        navbarToggler.setAttribute('aria-expanded', 'false');
      }
    });
  });

  // Close mobile menu when clicking outside
  document.addEventListener('click', function(event) {
    if (window.innerWidth < 992) {
      const navbar = document.querySelector('.navbar');
      
      if (navbar && navbarCollapse && navbarToggler) {
        if (!navbar.contains(event.target) && navbarCollapse.classList.contains('show')) {
          navbarCollapse.classList.remove('show');
          navbarToggler.setAttribute('aria-expanded', 'false');
        }
      }
    }
  });

  // Smooth scroll for anchor links
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function(e) {
      e.preventDefault();
      const target = document.querySelector(this.getAttribute('href'));
      if (target) {
        target.scrollIntoView({
          behavior: 'smooth',
          block: 'start'
        });
      }
    });
  });
});
</script>

<!-- Modern Professional Navbar -->
<nav class="navbar navbar-expand-lg navbar-custom fixed-top" id="mainNavbar">
  <div class="container">
    <!-- Enhanced Brand with Animation -->
    <a class="navbar-brand d-flex align-items-center" href="index.html">
      <img src="images/logo.webp" alt="Brülör Teknik Logo" class="me-2" style="width: 40px; height: 40px; border-radius: 8px;">
      <div>
        <div style="font-size: 1.2rem; font-weight: 700; color: #ffffff;">Brülör Teknik</div>
        <div style="font-size: 0.8rem; color: rgba(255,255,255,0.8);">Endüstriyel Brülör Uzmanı</div>
      </div>
    </a>
    
    <!-- Standard Bootstrap Hamburger Button -->
    <button class="navbar-toggler" type="button" id="navbarToggler"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Menü"
            style="border: 2px solid #fff; background: rgba(255,255,255,0.1);">
      <span class="navbar-toggler-icon" style="filter: brightness(0) invert(1);"></span>
    </button>
    
    <!-- Enhanced Navigation Menu -->
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav mx-auto">
        <li class="nav-item">
          <a class="nav-link" href="index.html">
            <i class="fas fa-home me-1"></i>
            Ana Sayfa
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="about.html">
            <i class="fas fa-info-circle me-1"></i>
            Hakkımızda
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="products.html">
            <i class="fas fa-cogs me-1"></i>
            Ürünler
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="hizmetler.html">
            <i class="fas fa-tools me-1"></i>
            Hizmetler
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="contact.html">
            <i class="fas fa-envelope me-1"></i>
            İletişim
          </a>
        </li>
      </ul>
      
      <!-- Action Buttons -->
      <div class="navbar-actions d-flex align-items-center gap-2">
        <a href="https://wa.me/905316250694?text=Merhaba, brülör hizmetleriniz hakkında bilgi almak istiyorum." 
           class="btn btn-success btn-sm" target="_blank">
          <i class="fab fa-whatsapp me-1"></i>
          WhatsApp
        </a>
        <a href="contact.html" class="btn btn-primary btn-sm">
          <i class="fas fa-calculator me-1"></i>
          Teklif Al
        </a>
      </div>
    </div>
  </div>
</nav>
